{"schemaVersion":{"patch":0,"minor":3,"major":0},"hierarchy":{"paths":[["doc:\/\/rocca.Library\/documentation\/Library","doc:\/\/rocca.Library\/documentation\/Library\/ViewModel"]]},"identifier":{"url":"doc:\/\/rocca.Library\/documentation\/Library\/ViewModel\/updateReturnedDates(borrowId:collectionIds:statuses:)","interfaceLanguage":"swift"},"metadata":{"roleHeading":"Instance Method","title":"updateReturnedDates(borrowId:collectionIds:statuses:)","externalID":"s:7Library9ViewModelC19updateReturnedDates8borrowId13collectionIds8statusesySS_SaySSGSaySbGtYaKF","symbolKind":"method","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"updateReturnedDates"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"borrowId"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"collectionIds","kind":"externalParam"},{"kind":"text","text":": ["},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"kind":"text","text":"], "},{"text":"statuses","kind":"externalParam"},{"text":": [","kind":"text"},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"},{"kind":"text","text":"]) "},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"}],"modules":[{"name":"Library"}],"role":"symbol"},"sections":[],"kind":"symbol","abstract":[{"text":"Updates the returned dates for borrowed collections based on the given borrow ID and collection statuses.","type":"text"}],"primaryContentSections":[{"declarations":[{"platforms":["iOS"],"languages":["swift"],"tokens":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"updateReturnedDates"},{"kind":"text","text":"("},{"text":"borrowId","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"text":"collectionIds","kind":"externalParam"},{"text":": [","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":"], ","kind":"text"},{"text":"statuses","kind":"externalParam"},{"text":": [","kind":"text"},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"},{"kind":"text","text":"]) "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"text":"throws","kind":"keyword"}]}],"kind":"declarations"},{"kind":"parameters","parameters":[{"name":"borrowId","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The ID of the borrow transaction to update."}]}]},{"name":"collectionIds","content":[{"type":"paragraph","inlineContent":[{"text":"A list of collection IDs for which the returned date needs to be updated.","type":"text"}]}]},{"name":"statuses","content":[{"inlineContent":[{"type":"text","text":"A list of boolean values indicating whether the respective collections have been returned."},{"type":"text","text":" "},{"text":"Each element corresponds to a ","type":"text"},{"code":"collectionId","type":"codeVoice"},{"type":"text","text":" in the same order."}],"type":"paragraph"}]}]},{"content":[{"anchor":"discussion","level":2,"text":"Discussion","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"This function makes an RPC (Remote Procedure Call) to the Supabase server to update the ","type":"text"},{"code":"returned_date","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"for the specified collections based on their current status (i.e., whether they have been returned)."}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Example:"}]},{"syntax":"swift","type":"codeListing","code":["do {","    try await updateReturnedDates(borrowId: \"12345\", collectionIds: [\"col1\", \"col2\"], statuses: [true, false])","} catch {","    print(\"Failed to update returned dates: \\(error)\")","}"]}]}],"type":"unorderedList"}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/library\/viewmodel\/updatereturneddates(borrowid:collectionids:statuses:)"]}],"references":{"doc://rocca.Library/documentation/Library/ViewModel/updateReturnedDates(borrowId:collectionIds:statuses:)":{"identifier":"doc:\/\/rocca.Library\/documentation\/Library\/ViewModel\/updateReturnedDates(borrowId:collectionIds:statuses:)","title":"updateReturnedDates(borrowId:collectionIds:statuses:)","kind":"symbol","url":"\/documentation\/library\/viewmodel\/updatereturneddates(borrowid:collectionids:statuses:)","abstract":[{"type":"text","text":"Updates the returned dates for borrowed collections based on the given borrow ID and collection statuses."}],"type":"topic","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"updateReturnedDates"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"borrowId"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"collectionIds","kind":"externalParam"},{"text":": [","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"kind":"text","text":"], "},{"text":"statuses","kind":"externalParam"},{"kind":"text","text":": ["},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"text":"]) ","kind":"text"},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"}]},"doc://rocca.Library/documentation/Library":{"url":"\/documentation\/library","abstract":[],"kind":"symbol","title":"Library","role":"collection","identifier":"doc:\/\/rocca.Library\/documentation\/Library","type":"topic"},"doc://rocca.Library/documentation/Library/ViewModel":{"role":"symbol","navigatorTitle":[{"text":"ViewModel","kind":"identifier"}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ViewModel","kind":"identifier"}],"abstract":[{"type":"text","text":"A class responsible for managing the applicationâ€™s data and business logic for a library management system."}],"title":"ViewModel","url":"\/documentation\/library\/viewmodel","identifier":"doc:\/\/rocca.Library\/documentation\/Library\/ViewModel","kind":"symbol","type":"topic"}}}